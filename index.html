<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Relatório de Ensaio – PVC-U</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<header class="topbar">
  <h1>Relatório de Ensaio – PVC-U</h1>
  <div class="actions">
    <button id="btnNovo">Novo</button>
    <button id="btnSalvar">Salvar</button>
    <button id="btnExportar">Exportar JSON</button>
    <label class="import">
      Importar JSON
      <input type="file" id="inputImportar" accept="application/json" />
    </label>
    <button id="btnImprimir">Imprimir/PDF</button>
  </div>
</header>

<main class="layout">
  <aside class="lista-relatorios" aria-label="Relatórios salvos">
    <div class="aside-head">
      <h2>Relatórios</h2>
      <input id="filtroLista" placeholder="Buscar..." />
    </div>
    <ul id="listaRelatorios"></ul>
  </aside>

  <section class="conteudo">
    <form id="formRelatorio">
      <!-- 1. Identificação do Relatório -->
      <fieldset>
        <legend>1. Identificação do Relatório</legend>
        <div class="grid">
          <label>Nº do Relatório
            <input required name="numeroRelatorio" />
          </label>
          <label>Revisão
            <input name="revisao" />
          </label>
          <label>Data de emissão
            <input required name="dataEmissao" type="date" />
          </label>
          <label>Responsável Técnico
            <input required name="responsavelTecnico" />
          </label>
          <label>Laboratório
            <input required name="laboratorio" />
          </label>
        </div>

        <label>Normas de referência (separe por “;”)
          <input name="normasReferencia" placeholder="ABNT NBR 5648:2018; NBR 8219; EN 62321-3-1:2014; ..." />
        </label>
      </fieldset>

      <!-- 2. Identificação da(s) Amostra(s) -->
      <fieldset>
        <legend>2. Identificação da Amostra</legend>
        <div id="amostras"></div>
        <button type="button" class="secundario" id="btnAddAmostra">+ Adicionar amostra</button>
      </fieldset>

      <!-- 3. Objetivo do Ensaio -->
      <fieldset>
        <legend>3. Objetivo do Ensaio</legend>
        <textarea name="objetivo" rows="3" placeholder="Apresentar resultados obtidos nos ensaios realizados em conexões de PVC-U, visando verificar a conformidade com os requisitos das normas técnicas aplicáveis."></textarea>
      </fieldset>

      <!-- 4. Métodos e Materiais Empregados -->
      <fieldset>
        <legend>4. Métodos e Materiais Empregados</legend>
        <p class="hint">Marque os métodos aplicados no relatório.</p>
        <div id="metodos" class="metodos"></div>
      </fieldset>

      <!-- 5. Resultados dos Ensaios -->
      <fieldset>
        <legend>5. Resultados dos Ensaios</legend>
        <table class="tabela" id="tblResultados">
          <thead>
            <tr>
              <th>Ensaio</th>
              <th>Resultado obtido</th>
              <th>Requisito normativo</th>
              <th>Conformidade</th>
              <th></th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <button type="button" class="secundario" id="btnAddResultado">+ Adicionar resultado</button>
      </fieldset>

      <!-- 6. Discussão dos Resultados -->
      <fieldset>
        <legend>6. Discussão dos Resultados</legend>
        <textarea name="discussao" rows="4" placeholder="Análise comparativa entre os resultados obtidos e os critérios estabelecidos nas normas de referência."></textarea>
      </fieldset>

      <!-- 7. Conclusão -->
      <fieldset>
        <legend>7. Conclusão</legend>
        <div class="grid">
          <label class="inline">
            <input type="radio" name="statusConclusao" value="Conforme" checked />
            Conforme
          </label>
          <label class="inline">
            <input type="radio" name="statusConclusao" value="Não conforme" />
            Não conforme
          </label>
        </div>
        <textarea name="conclusaoObs" rows="3" placeholder="Observações complementares e referências à norma."></textarea>
      </fieldset>

      <!-- 8. Anexos -->
      <fieldset>
        <legend>8. Anexos</legend>
        <div class="grid">
          <label>Certificados de calibração (URLs; separe por “;”)
            <input name="anexosCertificados" placeholder="https://...; https://..." />
          </label>
          <label>Planilhas/Gráficos (URLs; separe por “;”)
            <input name="anexosPlanilhas" placeholder="https://...; https://..." />
          </label>
          <label>Fotos das amostras (URLs; separe por “;”)
            <input name="anexosFotos" placeholder="https://...; https://..." />
          </label>
        </div>
      </fieldset>

      <input type="hidden" name="id" />
    </form>
  </section>
</main>

<footer class="rodape">
  <small>© <span id="ano"></span> Laboratório – Relatórios digitais. </small>
</footer>

<script src="script.js"></script>
</body>
</html>
